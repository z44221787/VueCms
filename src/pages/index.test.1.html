<!DOCTYPE html>

<html>

<head>
    <title></title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"
        integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
    <!-- 模版所需要js文件 -->
    <script type="text/javascript" src="/node_modules/avalon2/dist/avalon.js"></script>
    <script type="text/javascript" src="/src/lib/utils/uuid.js"></script>
    <script type="text/javascript" src="/src/lib/utils/promiseM.js"></script>
    <script type="text/javascript" src="/src/lib/utils/Event.js"></script>
    <script type="text/javascript" src="/src/lib/linq.js_ver2.2.0.2/linq.js"></script>
    <script type="text/javascript" src="/src/lib/component/ms-content.js"></script>

    <style>
        /* 解决页面初始化加载出现花括号 */
        .ms-controller {
            display: none;
        }
    </style>
</head>

<body>
    <ul class="new02 XxKul">
        <!-- <xmp ms-widget="{is:'ms-content',load:['loadZwyw']}">
            <span style="font-size: 14px;color: red;" zr-if="data.length===undefined">正在加载数据。。。</span>
            <li zr-for="el in @data">
                <a href="#">{{@el.title | truncate(15,'……')}}</a>
                <span>{{@el.postTime | date('MM-dd')}}</span>
            </li>
        </xmp> -->


        <xmp ms-widget="{is:'ms-content',data:{num:3,array:[1, 2, 3, 4, 5, 6],object: {a: 1, b: 2, c: 3, d: 4, e: 5}}}">
            <select zr-duplex-number='@data.num'>
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
            </select>
            <ul>
                <li zr-for='el in @data.array | limitBy(@data.num)'>{{el}}</li>
            </ul>
            <ul>
                <li zr-for='el in @data.object | limitBy(@data.num)'>{{el}}</li>
            </ul>
        </xmp>
    </ul>
</body>

<script>
    // jQuery.ajaxSetup({
    //     xhr: function () {
    //         //return new window.XMLHttpRequest();
    //         try {
    //             if (window.ActiveXObject)
    //                 return new window.ActiveXObject("Microsoft.XMLHTTP");
    //         } catch (e) {}

    //         return new window.XMLHttpRequest();
    //     }
    // });

    // //步骤一:创建异步对象
    // var ajax = new XMLHttpRequest();
    // //步骤二:设置请求的url参数,参数一是请求的类型,参数二是请求的url,可以带参数,动态的传递参数starName到服务端
    // ajax.open('get', 'http://172.24.241.175/ApiService/GetClassListByName');
    // //步骤三:发送请求
    // ajax.send();
    // //步骤四:注册事件 onreadystatechange 状态改变就会调用
    // ajax.onreadystatechange = function () {
    //     if (ajax.readyState == 4 && ajax.status == 200) {
    //         //步骤五 如果能够进到这个判断 说明 数据 完美的回来了,并且请求的页面是存在的
    //         console.log(ajax.responseText); //输入相应的内容
    //     }
    // }
    jQuery.support.cors = true;
    $.ajax({
            url: '/src/pages/data/政务要闻.txt',
            type: 'get',
            dataType: 'json',
            data:{name:"hah",age:"14"},
            success: function (result) {
                var json = eval (result);
                // alert(json.length);
                var i=0;
                for(i;i<json.length;i++){
                    alert(result[0]);
                    var app=document.createElement("li");
                    app.innerHTML=json[i];
                    var father=document.getElementById("con1");
                    father.appendChild(app);
                }
            }
        });

    // 加载数据
    // function loadZwyw(e) {
    //     window.setTimeout(function () {
    //         jQuery.support.cors = true;
    //         $.ajax({
    //             url: "http://172.24.241.175/ApiService/GetClassListByName",
    //             type:'get',
    //             data: {
    //                 classNames: "药监动态"
    //             },
    //             dataType: 'json',
    //             success: function (data) {
    //                 e.resolve(data);
    //             },
    //             error: function (e, ee, eee) {
    //                 console.info(e);
    //             }
    //         });
    //         // getData('/src/pages/data/政务要闻.txt', '').then(function (data) {
    //         //     e.resolve(data);
    //         // });
    //     }, 2000)
    // };
</script>

</html>